@use "everything";

@include everything.styles;

// See the next.config.mjs to see how the `$env` gets defined
$is_production: $env == production;

@layer theme {
  :root {
    @if everything.$disable-default-root-theme {
      @include everything.colors;

      @if everything.$color-scheme ==
        system and
        everything.$disable-default-system-theme and
        $is_production
      {
        @media (prefers-color-scheme: dark) {
          @include everything.use-dark-theme;
          --phone-app-bar-bg: #{everything.$grey-900};
        }
      }
    }

    @if everything.$color-scheme ==
      system and not
      everything.$disable-default-system-theme
    {
      @media (prefers-color-scheme: dark) {
        --code-color: #{everything.$pink-400};
        --phone-app-bar-bg: #{everything.$grey-900};
      }
    }

    --code-color: #{everything.get-default-color(
        everything.$pink-600,
        everything.$pink-400
      )};
    --phone-app-bar-bg: #{everything.get-default-color(
        everything.$grey-100,
        everything.$grey-900
      )};
    --toc-width: 18rem;
  }
}

html {
  scroll-behavior: smooth;
}
